<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARCHISPECT - Eco Home Designer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script>window.react = React;</script>
  <script src="https://cdn.jsdelivr.net/npm/lucide-react@0.294.0/dist/umd/lucide-react.min.js"></script>
  <style>
    body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script>
    // Placeholder Firebase config - replace with your own for cloud sync
    window.__firebase_config = JSON.stringify({
      apiKey: "demo-key",
      authDomain: "demo.firebaseapp.com",
      projectId: "demo-project"
    });
    window.__app_id = 'house-design-2026';
    window.__initial_auth_token = null;
  </script>

  <script type="text/babel" data-type="module">
    const { useState, useEffect, useMemo } = React;
    const { initializeApp } = firebase.app;
    const { getAuth, signInAnonymously, onAuthStateChanged } = firebase.auth;
    const { getFirestore, doc, setDoc, updateDoc, onSnapshot } = firebase.firestore;
    const { Home, Layout, Leaf, Sun, Save, Plus, Trash2, Maximize2, Layers, Info, Clock, Droplets, PenTool, Bath, Car, UtensilsCrossed, Baby, Dumbbell, BookOpen, Shirt } = LucideReact;

    const firebaseConfig = JSON.parse(__firebase_config);
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'house-design-2026';

    let app, auth, db;
    try {
      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      db = getFirestore(app);
    } catch (e) {
      console.warn('Firebase init failed - using demo mode');
    }

    const ROOM_TYPES = [
      { id: 'living', name: 'Living Room', color: 'bg-orange-100', colorId: 'orange', icon: React.createElement(Home, { size: 18 }), wellness: 85 },
      { id: 'bedroom', name: 'Bedroom', color: 'bg-indigo-100', colorId: 'indigo', icon: React.createElement(Clock, { size: 18 }), wellness: 95 },
      { id: 'office', name: 'Smart Office', color: 'bg-emerald-100', colorId: 'emerald', icon: React.createElement(PenTool, { size: 18 }), wellness: 70 },
      { id: 'kitchen', name: 'Eco-Kitchen', color: 'bg-amber-100', colorId: 'amber', icon: React.createElement(Droplets, { size: 18 }), wellness: 60 },
      { id: 'garden', name: 'Biophilic Zone', color: 'bg-green-100', colorId: 'green', icon: React.createElement(Leaf, { size: 18 }), wellness: 100 },
      { id: 'bathroom', name: 'Bathroom', color: 'bg-sky-100', colorId: 'sky', icon: React.createElement(Bath || Droplets, { size: 18 }), wellness: 75 },
      { id: 'dining', name: 'Dining Room', color: 'bg-rose-100', colorId: 'rose', icon: React.createElement(UtensilsCrossed || Layout, { size: 18 }), wellness: 80 },
      { id: 'nursery', name: 'Nursery', color: 'bg-pink-100', colorId: 'pink', icon: React.createElement(Baby || Leaf, { size: 18 }), wellness: 98 },
      { id: 'laundry', name: 'Laundry', color: 'bg-violet-100', colorId: 'violet', icon: React.createElement(Shirt || Droplets, { size: 18 }), wellness: 55 },
      { id: 'garage', name: 'Garage', color: 'bg-stone-100', colorId: 'stone', icon: React.createElement(Car || Layout, { size: 18 }), wellness: 40 },
      { id: 'gym', name: 'Home Gym', color: 'bg-red-100', colorId: 'red', icon: React.createElement(Dumbbell || Sun, { size: 18 }), wellness: 90 },
      { id: 'study', name: 'Study', color: 'bg-teal-100', colorId: 'teal', icon: React.createElement(BookOpen || PenTool, { size: 18 }), wellness: 72 },
    ];

    const ROOM_COLORS = [
      { id: 'orange', name: 'Warm Orange', bg: 'bg-orange-100', border: 'border-orange-300' },
      { id: 'indigo', name: 'Indigo', bg: 'bg-indigo-100', border: 'border-indigo-300' },
      { id: 'emerald', name: 'Emerald', bg: 'bg-emerald-100', border: 'border-emerald-300' },
      { id: 'amber', name: 'Amber', bg: 'bg-amber-100', border: 'border-amber-300' },
      { id: 'green', name: 'Green', bg: 'bg-green-100', border: 'border-green-300' },
      { id: 'sky', name: 'Sky Blue', bg: 'bg-sky-100', border: 'border-sky-300' },
      { id: 'rose', name: 'Rose', bg: 'bg-rose-100', border: 'border-rose-300' },
      { id: 'pink', name: 'Pink', bg: 'bg-pink-100', border: 'border-pink-300' },
      { id: 'violet', name: 'Violet', bg: 'bg-violet-100', border: 'border-violet-300' },
      { id: 'teal', name: 'Teal', bg: 'bg-teal-100', border: 'border-teal-300' },
      { id: 'red', name: 'Soft Red', bg: 'bg-red-100', border: 'border-red-300' },
      { id: 'stone', name: 'Stone', bg: 'bg-stone-100', border: 'border-stone-300' },
      { id: 'lime', name: 'Lime', bg: 'bg-lime-100', border: 'border-lime-300' },
      { id: 'cyan', name: 'Cyan', bg: 'bg-cyan-100', border: 'border-cyan-300' },
      { id: 'fuchsia', name: 'Fuchsia', bg: 'bg-fuchsia-100', border: 'border-fuchsia-300' },
    ];

    const CURTAIN_STYLES = [
      { id: 'none', name: 'None' },
      { id: 'sheer', name: 'Sheer (Light)' },
      { id: 'blackout', name: 'Blackout' },
      { id: 'roman', name: 'Roman' },
      { id: 'roller', name: 'Roller' },
      { id: 'thermal', name: 'Thermal' },
    ];

    const CURTAIN_COLORS = [
      { id: 'white', name: 'White', stripe: 'bg-white' },
      { id: 'cream', name: 'Cream', stripe: 'bg-amber-50' },
      { id: 'grey', name: 'Grey', stripe: 'bg-slate-200' },
      { id: 'navy', name: 'Navy', stripe: 'bg-slate-800' },
      { id: 'sage', name: 'Sage', stripe: 'bg-emerald-200' },
      { id: 'linen', name: 'Linen', stripe: 'bg-stone-200' },
      { id: 'dusty_rose', name: 'Dusty Rose', stripe: 'bg-rose-200' },
      { id: 'terracotta', name: 'Terracotta', stripe: 'bg-orange-300' },
      { id: 'blue', name: 'Light Blue', stripe: 'bg-sky-200' },
      { id: 'charcoal', name: 'Charcoal', stripe: 'bg-zinc-700' },
    ];

    const MATERIALS = [
      { id: 'hempcrete', name: 'Hempcrete', carbon: -10, texture: 'Grainy' },
      { id: 'mycelium', name: 'Mycelium Insulation', carbon: -15, texture: 'Soft' },
      { id: 'limewash', name: 'Lime Wash', carbon: 2, texture: 'Matte' },
      { id: 'recycled_steel', name: 'Recycled Steel', carbon: 5, texture: 'Industrial' }
    ];

    function App() {
      const [user, setUser] = useState(null);
      const [activeProject, setActiveProject] = useState(null);
      const [rooms, setRooms] = useState(() => {
        try {
          const saved = localStorage.getItem('archispect-rooms');
          return saved ? JSON.parse(saved) : [];
        } catch { return []; }
      });
      const [selectedRoom, setSelectedRoom] = useState(null);
      const [statusMsg, setStatusMsg] = useState('');
      const [activeTab, setActiveTab] = useState('planner');

      useEffect(() => {
        if (!auth) {
          setUser({ uid: 'demo-user' });
          setActiveProject({ name: 'My 2026 Eco-Home', rooms });
          return;
        }
        const initAuth = async () => {
          try {
            await signInAnonymously(auth);
          } catch (err) {
            setUser({ uid: 'demo-user' });
            setActiveProject({ name: 'My 2026 Eco-Home', rooms });
          }
        };
        initAuth();
        const unsubscribe = onAuthStateChanged(auth, (u) => {
          setUser(u || { uid: 'demo-user' });
        });
        return () => unsubscribe();
      }, []);

      useEffect(() => {
        if (!user || !db) {
          if (user?.uid === 'demo-user') setActiveProject({ name: 'My 2026 Eco-Home', rooms });
          return;
        }
        const projectRef = doc(db, 'artifacts', appId, 'users', user.uid, 'projects', 'main_design');
        const unsubscribe = onSnapshot(projectRef,
          (docSnap) => {
            if (docSnap.exists()) {
              const data = docSnap.data();
              setRooms(data.rooms || []);
              setActiveProject(data);
            } else {
              const initialData = { name: "My 2026 Eco-Home", createdAt: new Date().toISOString(), rooms: [] };
              setDoc(projectRef, initialData);
            }
          },
          (err) => {
            setUser({ uid: 'demo-user' });
            setActiveProject({ name: 'My 2026 Eco-Home', rooms });
          }
        );
        return () => unsubscribe();
      }, [user]);

      useEffect(() => {
        localStorage.setItem('archispect-rooms', JSON.stringify(rooms));
      }, [rooms]);

      const addRoom = (typeId) => {
        const type = ROOM_TYPES.find(t => t.id === typeId);
        const newRoom = {
          id: crypto.randomUUID(),
          type: typeId,
          name: type.name,
          x: 50, y: 50, w: 120, h: 100,
          wellnessScore: type.wellness,
          material: 'limewash',
          zoning: 'Standard',
          roomColor: type.colorId || 'orange',
          curtains: 'sheer',
          curtainColor: 'white'
        };
        const updated = [...rooms, newRoom];
        setRooms(updated);
        saveProject(updated);
      };

      const updateRoomPos = (id, x, y) => {
        setRooms(rooms.map(r => r.id === id ? { ...r, x, y } : r));
      };

      const saveProject = async (currentRooms) => {
        if (user?.uid === 'demo-user' || !user || !db) {
          setStatusMsg('Saved locally.');
          setTimeout(() => setStatusMsg(''), 2000);
          return;
        }
        try {
          const projectRef = doc(db, 'artifacts', appId, 'users', user.uid, 'projects', 'main_design');
          await updateDoc(projectRef, { rooms: currentRooms });
          setStatusMsg('Design saved to cloud.');
          setTimeout(() => setStatusMsg(''), 3000);
        } catch (err) {
          setStatusMsg('Saved locally.');
          setTimeout(() => setStatusMsg(''), 2000);
        }
      };

      const deleteRoom = (id) => {
        const updated = rooms.filter(r => r.id !== id);
        setRooms(updated);
        saveProject(updated);
        setSelectedRoom(null);
      };

      const avgWellness = useMemo(() => {
        if (rooms.length === 0) return 0;
        return Math.round(rooms.reduce((acc, r) => acc + r.wellnessScore, 0) / rooms.length);
      }, [rooms]);

      return (
        <div className="flex h-screen bg-slate-50 text-slate-900 overflow-hidden font-sans">
          <aside className="w-64 bg-white border-r border-slate-200 flex flex-col p-4 space-y-6">
            <div className="flex items-center space-x-2 text-indigo-600 mb-4">
              <Maximize2 size={28} />
              <h1 className="text-xl font-bold tracking-tight">ARCHISPECT</h1>
            </div>
            <nav className="flex-1 space-y-1">
              <button onClick={() => setActiveTab('planner')}
                className={`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition ${activeTab === 'planner' ? 'bg-indigo-50 text-indigo-600' : 'hover:bg-slate-100 text-slate-600'}`}>
                <Layout size={20} />
                <span className="font-medium">Smart Planner</span>
              </button>
              <button onClick={() => setActiveTab('wellness')}
                className={`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition ${activeTab === 'wellness' ? 'bg-indigo-50 text-indigo-600' : 'hover:bg-slate-100 text-slate-600'}`}>
                <Sun size={20} />
                <span className="font-medium">Wellness Audit</span>
              </button>
              <button onClick={() => setActiveTab('eco')}
                className={`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition ${activeTab === 'eco' ? 'bg-indigo-50 text-indigo-600' : 'hover:bg-slate-100 text-slate-600'}`}>
                <Leaf size={20} />
                <span className="font-medium">Sustainability</span>
              </button>
            </nav>
            <div className="bg-slate-100 p-3 rounded-xl">
              <p className="text-xs text-slate-500 uppercase font-bold mb-2">Project Stats</p>
              <div className="flex justify-between items-center mb-1">
                <span className="text-sm">Wellness Index</span>
                <span className="text-sm font-bold text-indigo-600">{avgWellness}%</span>
              </div>
              <div className="w-full bg-slate-200 h-1.5 rounded-full">
                <div className="bg-indigo-500 h-full rounded-full transition-all duration-500" style={{ width: `${avgWellness}%` }}></div>
              </div>
            </div>
            <div className="pt-4 border-t border-slate-200 text-[10px] text-slate-400">
              {user?.uid || 'Loading...'}
            </div>
          </aside>

          <main className="flex-1 flex flex-col overflow-hidden">
            <header className="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6">
              <div className="flex items-center space-x-4">
                <h2 className="font-semibold text-lg">{activeProject?.name || 'My 2026 Eco-Home'}</h2>
                {statusMsg && <span className="text-xs text-emerald-600 font-medium animate-pulse bg-emerald-50 px-2 py-1 rounded">{statusMsg}</span>}
              </div>
              <div className="flex items-center space-x-3">
                <div className="flex items-center bg-slate-100 p-1 rounded-lg overflow-x-auto max-w-[480px] gap-0.5 flex-wrap">
                  {ROOM_TYPES.map(type => (
                    <button key={type.id} onClick={() => addRoom(type.id)} title={`Add ${type.name}`}
                      className="p-2 hover:bg-white hover:shadow-sm rounded-md transition text-slate-600 hover:text-indigo-600">
                      {type.icon}
                    </button>
                  ))}
                </div>
                <button onClick={() => saveProject(rooms)}
                  className="flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition shadow-sm">
                  <Save size={18} />
                  <span>Sync Cloud</span>
                </button>
              </div>
            </header>

            <div className="flex-1 relative bg-slate-200 overflow-auto p-8">
              {activeTab === 'planner' && (
                <div className="relative bg-white shadow-xl mx-auto rounded-sm border border-slate-300"
                  style={{ width: '800px', height: '600px', backgroundImage: 'radial-gradient(#e5e7eb 1px, transparent 1px)', backgroundSize: '20px 20px' }}>
                  {rooms.map(room => {
                    const colorOpt = ROOM_COLORS.find(c => c.id === (room.roomColor || ROOM_TYPES.find(t => t.id === room.type)?.colorId));
                    const bgClass = colorOpt?.bg || ROOM_TYPES.find(t => t.id === room.type)?.color || 'bg-gray-100';
                    const curtainOpt = CURTAIN_COLORS.find(c => c.id === (room.curtainColor || 'white'));
                    const hasCurtains = room.curtains && room.curtains !== 'none';
                    return (
                    <div key={room.id} onClick={(e) => { e.stopPropagation(); setSelectedRoom(room); }}
                      className={`absolute cursor-move border-2 transition-all ${selectedRoom?.id === room.id ? 'border-indigo-500 ring-2 ring-indigo-200 z-20 shadow-lg' : 'border-slate-400 z-10'} ${bgClass} rounded-md p-3 flex flex-col justify-between overflow-hidden`}
                      style={{ left: `${room.x}px`, top: `${room.y}px`, width: `${room.w}px`, height: `${room.h}px` }}
                      onMouseDown={(e) => {
                        const startX = e.clientX - room.x;
                        const startY = e.clientY - room.y;
                        const onMouseMove = (ev) => updateRoomPos(room.id, ev.clientX - startX, ev.clientY - startY);
                        const onMouseUp = () => {
                          document.removeEventListener('mousemove', onMouseMove);
                          document.removeEventListener('mouseup', onMouseUp);
                          saveProject(rooms);
                        };
                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                      }}>
                      {hasCurtains && (
                        <div className="absolute top-0 left-0 right-0 h-1.5 flex gap-0.5 px-1 pt-0.5" title={`${room.curtains} curtains`}>
                          <div className={`flex-1 rounded-sm opacity-90 ${curtainOpt?.stripe || 'bg-white'}`}></div>
                          <div className={`flex-1 rounded-sm opacity-90 ${curtainOpt?.stripe || 'bg-white'}`}></div>
                          <div className={`flex-1 rounded-sm opacity-90 ${curtainOpt?.stripe || 'bg-white'}`}></div>
                        </div>
                      )}
                      <div className="flex justify-between items-start">
                        <span className="text-[10px] font-bold uppercase opacity-60 tracking-wider">{room.name}</span>
                        {ROOM_TYPES.find(t => t.id === room.type)?.icon}
                      </div>
                      <div className="flex justify-between items-center text-[10px] font-mono opacity-40">
                        <span>{Math.round(room.w/10)}' x {Math.round(room.h/10)}'</span>
                      </div>
                    </div>
                  ); })}
                  {rooms.length === 0 && (
                    <div className="absolute inset-0 flex flex-col items-center justify-center text-slate-400 italic">
                      <Layout size={48} className="mb-4 opacity-20" />
                      <p>Click room types in the toolbar to add them, then drag to arrange</p>
                    </div>
                  )}
                </div>
              )}

              {activeTab === 'wellness' && (
                <div className="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <h3 className="text-xl font-bold mb-4 flex items-center space-x-2">
                      <Sun className="text-amber-500" />
                      <span>Circadian Analysis</span>
                    </h3>
                    <p className="text-slate-600 text-sm mb-6 leading-relaxed">
                      Based on your 2026 design, your Smart Office and Garden are optimized for peak sunlight.
                    </p>
                    <div className="space-y-4">
                      {rooms.map(r => (
                        <div key={r.id} className="flex items-center justify-between text-sm">
                          <span>{r.name}</span>
                          <span className={`px-2 py-1 rounded-full text-xs font-bold ${r.wellnessScore > 80 ? 'bg-emerald-100 text-emerald-700' : 'bg-amber-100 text-amber-700'}`}>
                            {r.wellnessScore}% Bio-Sync
                          </span>
                        </div>
                      ))}
                    </div>
                  </div>
                  <div className="bg-indigo-900 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden">
                    <div className="relative z-10">
                      <h3 className="text-xl font-bold mb-4">Neuro-Score</h3>
                      <div className="text-5xl font-extrabold mb-2">{avgWellness}<span className="text-xl font-normal opacity-50">/100</span></div>
                      <p className="text-indigo-200 text-sm">Design reduces baseline cortisol levels by 18% compared to standard minimalism.</p>
                    </div>
                    <div className="absolute -right-8 -bottom-8 opacity-20">
                      <Layers size={160} />
                    </div>
                  </div>
                </div>
              )}

              {activeTab === 'eco' && (
                <div className="max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                  <h3 className="text-2xl font-bold mb-6 flex items-center space-x-2">
                    <Leaf className="text-emerald-500" />
                    <span>2026 Material Passport</span>
                  </h3>
                  <div className="grid grid-cols-3 gap-4 mb-8">
                    <div className="p-4 bg-emerald-50 rounded-xl border border-emerald-100 text-center">
                      <div className="text-sm text-emerald-600 font-bold mb-1">Carbon Saved</div>
                      <div className="text-2xl font-black text-emerald-800">-4.2 Tons</div>
                    </div>
                    <div className="p-4 bg-indigo-50 rounded-xl border border-indigo-100 text-center">
                      <div className="text-sm text-indigo-600 font-bold mb-1">Recyclability</div>
                      <div className="text-2xl font-black text-indigo-800">92%</div>
                    </div>
                    <div className="p-4 bg-amber-50 rounded-xl border border-amber-100 text-center">
                      <div className="text-sm text-amber-600 font-bold mb-1">Local Origin</div>
                      <div className="text-2xl font-black text-amber-800">400mi</div>
                    </div>
                  </div>
                  <h4 className="font-bold text-slate-400 uppercase text-xs tracking-widest mb-4">Primary Building Block: Hempcrete</h4>
                  <p className="text-slate-600 leading-relaxed text-sm">
                    Your usage of bio-composites in the outer shell reduces thermal leakage by 35% over traditional brick.
                  </p>
                </div>
              )}
            </div>
          </main>

          <aside className={`w-80 bg-white border-l border-slate-200 p-6 transition-all duration-300 ${selectedRoom ? 'translate-x-0' : 'translate-x-full absolute right-0'}`}>
            {selectedRoom && (
              <div className="space-y-6">
                <div className="flex justify-between items-center">
                  <h3 className="text-lg font-bold">Inspect Room</h3>
                  <button onClick={() => setSelectedRoom(null)} className="text-slate-400 hover:text-slate-600">
                    <Plus size={20} className="rotate-45" />
                  </button>
                </div>
                <div className="space-y-4">
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Room Identity</label>
                    <input type="text" value={selectedRoom.name}
                      onChange={(e) => {
                        const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, name: e.target.value } : r);
                        setRooms(updated);
                      }}
                      className="w-full mt-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none" />
                  </div>
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Room Colour</label>
                    <div className="flex flex-wrap gap-1.5 mt-1">
                      {ROOM_COLORS.map(c => (
                        <button key={c.id} onClick={() => {
                          const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, roomColor: c.id } : r);
                          setRooms(updated);
                        }} className={`w-7 h-7 rounded-full border-2 transition ${(selectedRoom.roomColor || ROOM_TYPES.find(t => t.id === selectedRoom.type)?.colorId) === c.id ? 'border-slate-800 ring-1 ring-slate-400' : 'border-slate-200 hover:border-slate-400'} ${c.bg}`} title={c.name} />
                      ))}
                    </div>
                  </div>
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Curtains</label>
                    <select value={selectedRoom.curtains || 'sheer'}
                      onChange={(e) => {
                        const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, curtains: e.target.value } : r);
                        setRooms(updated);
                      }}
                      className="w-full mt-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                      {CURTAIN_STYLES.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}
                    </select>
                  </div>
                  {selectedRoom.curtains && selectedRoom.curtains !== 'none' && (
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Curtain Colour</label>
                    <select value={selectedRoom.curtainColor || 'white'}
                      onChange={(e) => {
                        const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, curtainColor: e.target.value } : r);
                        setRooms(updated);
                      }}
                      className="w-full mt-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                      {CURTAIN_COLORS.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}
                    </select>
                  </div>
                  )}
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Neuro-Material</label>
                    <select value={selectedRoom.material}
                      onChange={(e) => {
                        const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, material: e.target.value } : r);
                        setRooms(updated);
                      }}
                      className="w-full mt-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                      {MATERIALS.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}
                    </select>
                  </div>
                  <div>
                    <label className="text-xs font-bold text-slate-500 uppercase">Dimensions (ft)</label>
                    <div className="flex space-x-2 mt-1">
                      <div className="flex-1">
                        <span className="text-[10px] opacity-50">Width</span>
                        <input type="number" value={Math.round(selectedRoom.w / 10)}
                          onChange={(e) => {
                            const val = parseInt(e.target.value) * 10 || 10;
                            const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, w: val } : r);
                            setRooms(updated);
                          }}
                          className="w-full px-2 py-1 border rounded" />
                      </div>
                      <div className="flex-1">
                        <span className="text-[10px] opacity-50">Depth</span>
                        <input type="number" value={Math.round(selectedRoom.h / 10)}
                          onChange={(e) => {
                            const val = parseInt(e.target.value) * 10 || 10;
                            const updated = rooms.map(r => r.id === selectedRoom.id ? { ...r, h: val } : r);
                            setRooms(updated);
                          }}
                          className="w-full px-2 py-1 border rounded" />
                      </div>
                    </div>
                  </div>
                  <div className="p-4 bg-slate-50 rounded-xl border border-slate-100">
                    <div className="flex items-center space-x-2 text-indigo-600 mb-2">
                      <Info size={16} />
                      <span className="text-xs font-bold uppercase">2026 Trend Tip</span>
                    </div>
                    <p className="text-[11px] text-slate-600 leading-tight">
                      For {selectedRoom.type === 'office' ? 'Productivity' : 'Rest'}, consider Acoustic Partitions in this zone.
                    </p>
                  </div>
                  <button onClick={() => deleteRoom(selectedRoom.id)}
                    className="w-full flex items-center justify-center space-x-2 text-rose-600 hover:bg-rose-50 py-2 rounded-lg transition">
                    <Trash2 size={16} />
                    <span className="text-sm font-medium">Remove Room</span>
                  </button>
                </div>
              </div>
            )}
          </aside>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
